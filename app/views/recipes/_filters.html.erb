<%= search_form_for @q, class: 'mb-3' do |f| %>
  <div class="container">
    <div class="row mb-3">
      <div class="col-12">
        <div data-controller="autocomplete" data-autocomplete-url-value="/recipes/search">
          <%=
            f.search_field :name_cont,
            placeholder: 'Recipe name',
            value: params.dig(:q, :name_cont),
            class: 'form-control',
            "data-autocomplete-target" => "input"
          %>
          <input type="hidden" name="recipe _id" data-autocomplete-target="hidden"/>
          <ul data-autocomplete-target="results" class="list-group"></ul>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-12">
        <div data-controller="autocomplete" data-autocomplete-url-value="/recipes/search">
          <%=
            f.search_field :tags_name_cont,
            placeholder: 'Tag names',
            value: params.dig(:q, :tags_name_cont),
            class: 'form-control',
            "data-autocomplete-target" => "input"
          %>
          <input type="hidden" name="recipe _id" data-autocomplete-target="hidden"/>
          <ul data-autocomplete-target="results" class="list-group"></ul>
        </div>
      </div>
    </div>
    <div class="row mb-3">
       <div class="col-12">
        <div data-controller="autocomplete" data-autocomplete-url-value="/recipes/search">
          <%=
            f.search_field :ingredients_name_cont,
            placeholder: 'Ingredient names',
            value: params.dig(:q, :ingredients_name_cont),
            class: 'form-control',
            "data-autocomplete-target" => "input"
          %>
          <input type="hidden" name="recipe _id" data-autocomplete-target="hidden"/>
          <ul data-autocomplete-target="results" class="list-group"></ul>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-5">
        <%=
          f.select :difficulty_eq,
          Recipe.difficulties.map { |k, v| [k.titleize, v] },
          { include_blank: 'All difficulties' },
          class: 'form-control text-left',
          dir: 'rtl'
        %>
      </div>
      <div class="col-5">
        <%=
          f.select :budget_eq,
          Recipe.budgets.map { |k, v| [k.titleize, v] },
          { include_blank: 'All budgets' },
          class: 'form-control text-left',
          dir: 'rtl'
        %>
      </div>
      <div class="col-2">
        <%= f.submit 'Search', class: 'btn btn-primary', data: { disable_with: 'Searching...' } %>
      </div>
    </div>
  </div>
<% end %>